#!/bin/bash
classnamecheckfail=1
structnamecheckfail=1
templatenamecheckfail=1
count=0
while read line
do
    name=$line
    #echo "the line is $name"
    count=$((count+1))
#if [[ $name != [/]* || $name != ** ]]; then
#    echo "$name"
#fi
if [[ $name != [*/]* ]]; then
	case "$name" in

#check for class names whether they start with an upper case letter

		class*)
			value=${name#*class }
			#echo "class name value is $name, value is $value" 
			case ${value:0:1} in
				[[:upper:]])
 			                ;;
 			        *)
					classnamecheckfail=0
 			                echo -e "\nWARNING---> at line $count: class name begins with lowercase letter \"$value\""
 			                ;;
			esac
		;;
			#echo $value " --> next word after class" ;;

#check for structure names whether they start with an upper case letter

		*struct*)
			value=${name#*struct } 
			#echo "name value is $name, value is $value" 
			case ${value:0:1} in
				[[:upper:]])
 			                ;;
 			        *)
					structnamecheckfail=0
 			                echo -e "\nWARNING---> at line $count: structure name begins with lowercase letter \"$value\""
 			                ;;
			esac
			#echo $value " --> next word after class" ;;
		;;

#check for template names whether they have only a single uppercase letter

		template*) 
			#value=${name#*template\<class }
			value=${name#*template<class }
			value1=${value%>*}
			size=${#value1}
			#echo $value1
			case ${value:0:1} in
				[[:upper:]])
					#echo "Success: Uppercase"
					if [[ $size != 1 ]]; then
					templatechecknamefail=0
					fi

 			                ;;
 			        *)
					templatechecknamefail=0
 			                #echo "WARNING---> at line $count: structure name begins with lowercase letter \"$value1\""
 			                ;;
			esac
			
			if [[ $templatechecknamefail == 0 ]]; then
			echo "WARNING---> at line $count: Template Name has more than single character $name"
			fi
		;;
	esac 
        #echo "---->" "$name"
fi
done < $1

#see if the file has any errors. Print an error message if it has any errors.

if [[ $classnamecheckfail != 0 && $structnamecheckfail != 0 && $templatechecknamefail != 0 ]]; then
echo "file doesn't have any errors"
fi
